<div *ngIf="!resultQuestion" class="spinner-container">
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</div>
<div class="container">
  <div class="row">
    <div class="card card-full-width mb-10 shadow-none">
      <div class="card-body px-30">
        <div class="row align-items-center light-grey mb-20">
            <div class="col-6 font-demiBold">{{categoryTitle}}</div>
            <div class="col-6 text-right font-12">{{result?.resultDate}}</div>
        </div>
        <p class="font-demiBold mb-2">
          {{result?.resultPlace}}
        </p>
      </div>
    </div>
    <div class="card card-full-width mb-10 shadow-none lineH-24px">
      <div class="card-body">
        <div>{{question.surveyQuestionTranslation.surveyQuestionTranslationLabel}}
          <div>
            <span class="light-grey font-14 mb-50">{{question.surveyQuestionTranslation.surveyQuestionTranslationHelp}}</span>
          </div>
        </div>
        <p class="px-10 font-14 mb-30">{{resultQuestion? resultQuestion.resultQuestionResultComment : 'Question commentaire'}}</p>
        <img src="{{resultQuestion? resultQuestion.resultQuestionResultPhoto : '../../../../assets/images/img-test-correction.jpg'}}" class="img-fluid w-100" alt="test correction"/>
      </div>
    </div>
    <div class="card card-full-width shadow-none">
      <div class="card-body">
        <div class="font-22 font-demiBold">Correctif</div>
        <form [formGroup]="correction">
          <div class="form-row">
            <div class="form-group col-12">
              <textarea appHighlight class="form-control" id="commentaire" rows="3" formControlName="comment"></textarea>
              <label for="commentaire" class="light-grey font-14">Commentaire</label>
              <div class="line"></div>
            </div>
          </div>
          <div class="mx-30 mb-25">
            <input style="display: none" type="file" (change)="preview($event)" #uploadImage formControlName="photo">
            <button class="btn shadow-01 d-block w-100 d-flex align-items-center justify-content-center" (click)="uploadImage.click()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 18">
                  <g fill="#363636" fill-rule="evenodd" stroke="#363636">
                      <path d="M2.42 4.549a.71.71 0 0 0-.71.708v10.647a.71.71 0 0 0 .71.709H21.58a.71.71 0 0 0 .71-.71V5.258a.71.71 0 0 0-.71-.708h-4.4a.352.352 0 0 1-.274-.13L14.67 1.71H9.328L7.093 4.42a.355.355 0 0 1-.274.13h-4.4zM21.58 17.322H2.42A1.42 1.42 0 0 1 1 15.904V5.256a1.42 1.42 0 0 1 1.42-1.419h4.232L8.887 1.13a.355.355 0 0 1 .274-.128h5.677c.106 0 .206.046.274.128l2.235 2.71h4.234c.782 0 1.42.636 1.42 1.418v10.646c0 .782-.638 1.42-1.42 1.42z"></path>
                      <path d="M12 5.258a4.618 4.618 0 0 0-4.613 4.613A4.619 4.619 0 0 0 12 14.484a4.618 4.618 0 0 0 4.613-4.613A4.618 4.618 0 0 0 12 5.258m0 9.936a5.33 5.33 0 0 1-5.323-5.323A5.328 5.328 0 0 1 12 4.549a5.327 5.327 0 0 1 5.322 5.322A5.328 5.328 0 0 1 12 15.194M19.807 7.742a.71.71 0 1 1 0-1.42.71.71 0 0 1 0 1.42"></path>
                      <path d="M12 8.097c-.978 0-1.774.796-1.774 1.774s.796 1.774 1.774 1.774 1.774-.796 1.774-1.774S12.978 8.097 12 8.097m0 4.258A2.486 2.486 0 0 1 9.516 9.87 2.486 2.486 0 0 1 12 7.387a2.486 2.486 0 0 1 2.483 2.484A2.486 2.486 0 0 1 12 12.355"></path>
                  </g>
                </svg>
                <span class="ml-3">Ajouter une photo</span>
              </button>
          </div>
          <div class="image-preview">
            <img src="{{imgURL}}" alt="Preview failed" *ngIf="imgURL" style="width: 100%; height: 10%;">
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="mx-30 my-45">
    <button class="btn btn-info d-block w-100" (click)="validForm()">Valider</button>
  </div>
</div>
